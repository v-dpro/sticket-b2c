{"version":3,"file":"timeToDisplayFallback.js","sourceRoot":"","sources":["../../../src/js/tracing/timeToDisplayFallback.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAE,gBAAgB,EAAE,MAAM,2BAA2B,CAAC;AAE7D,MAAM,+BAA+B,GAAG,KAAM,CAAC;AAE/C,MAAM,oCAAoC,GAAwD,IAAI,gBAAgB,CAAC;IACrH,GAAG,EAAE,+BAA+B;CACrC,CAAC,CAAC;AAEH,MAAM,CAAC,MAAM,+BAA+B,GAAG,CAC7C,MAAc,EACd,gBAAoD,EAC9C,EAAE;IACR,oCAAoC,CAAC,GAAG,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;AACrE,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,+BAA+B,GAAG,CAAO,MAAc,EAAsC,EAAE;IAC1G,OAAO,oCAAoC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AAC1D,CAAC,CAAA,CAAC","sourcesContent":["import { AsyncExpiringMap } from '../utils/AsyncExpiringMap';\n\nconst TIME_TO_DISPLAY_FALLBACK_TTL_MS = 60_000;\n\nconst spanIdToTimeToInitialDisplayFallback: AsyncExpiringMap<string, number | undefined | null> = new AsyncExpiringMap({\n  ttl: TIME_TO_DISPLAY_FALLBACK_TTL_MS,\n});\n\nexport const addTimeToInitialDisplayFallback = (\n  spanId: string,\n  timestampSeconds: Promise<number | undefined | null>,\n): void => {\n  spanIdToTimeToInitialDisplayFallback.set(spanId, timestampSeconds);\n};\n\nexport const getTimeToInitialDisplayFallback = async (spanId: string): Promise<number | undefined | null> => {\n  return spanIdToTimeToInitialDisplayFallback.get(spanId);\n};\n"]}